devtools::document()
library(devtools)
devtools::document()
devtools::document()
#' @noRd
clean_dates <- function(results) {
results %>%
mutate(date = anydate(as.numeric(date)),
created = anydate(as.numeric(created)),
changed = anydate(as.numeric(changed))) }
#' @noRd
remove_tags <- function(html_string) {
return(gsub("<.*?>", "", html_string)) }
#' @noRd
remove_breaks <- function(html_string) {
return(gsub("\n", "", html_string)) }
#' @noRd
keyword_search <- function(results, keyword) {
if(length(keyword) > 1) {
keyword <- paste(keyword, collapse = "|") }
results %>%
filter(str_detect(body, keyword)) }
#' @noRd
slicey <- function(df, search_direction, n_results) {
if(search_direction == "DESC") {
df <- df %>%
slice(1:n_results) }
else {
df <- df %>%
arrange(n_results) %>%
slice(1:n_results) }
return(df) }
#' @noRd
fetch_data <- function(api_url, cycle, pagesize_n, clean, page_n, n_results, keyword, search_direction) {
out <- data.frame()
while(nrow(out) < n_results) {
results <- data.frame()
for(i in 1:cycle) {
page_n = page_n + 1
raw_data <- GET(paste0(api_url, page_n))
Sys.sleep(.2)
data <- fromJSON(rawToChar(raw_data$content), flatten = TRUE)
df <- data$results
if(clean == TRUE) {
df$body <- remove_tags(df$body)
df$teaser <- remove_tags(df$teaser)
df$body <- remove_breaks(df$body)
df$body <- str_trim(df$body) }
results <- bind_rows(results, df) }
if(!(is.null(keyword))) {
results <- keyword_search(results, keyword) }
results <- slicey(results, search_direction, n_results)
out <- bind_rows(out, results) }
out <- slicey(out, search_direction, n_results)
out <- out %>%
select(-image, -topic)
return(out) }
#' @noRd
clean_dates <- function(results) {
results %>%
mutate(date = anydate(as.numeric(date)),
created = anydate(as.numeric(created)),
changed = anydate(as.numeric(changed))) }
#' @noRd
remove_tags <- function(html_string) {
return(gsub("<.*?>", "", html_string)) }
#' @noRd
remove_breaks <- function(html_string) {
return(gsub("\n", "", html_string)) }
#' @noRd
keyword_search <- function(results, keyword) {
if(length(keyword) > 1) {
keyword <- paste(keyword, collapse = "|") }
results %>%
filter(str_detect(body, keyword)) }
#' @noRd
slicey <- function(df, search_direction, n_results) {
if(search_direction == "DESC") {
df <- df %>%
slice(1:n_results) }
else {
df <- df %>%
arrange(n_results) %>%
slice(1:n_results) }
return(df) }
#' @noRd
fetch_data <- function(api_url, cycle, pagesize_n, clean, page_n, n_results, keyword, search_direction) {
out <- data.frame()
while(nrow(out) < n_results) {
results <- data.frame()
for(i in 1:cycle) {
page_n = page_n + 1
raw_data <- GET(paste0(api_url, page_n))
Sys.sleep(.2)
data <- fromJSON(rawToChar(raw_data$content), flatten = TRUE)
df <- data$results
if(clean == TRUE) {
df$body <- remove_tags(df$body)
df$teaser <- remove_tags(df$teaser)
df$body <- remove_breaks(df$body)
df$body <- str_trim(df$body) }
results <- bind_rows(results, df) }
if(!(is.null(keyword))) {
results <- keyword_search(results, keyword) }
results <- slicey(results, search_direction, n_results)
out <- bind_rows(out, results) }
out <- slicey(out, search_direction, n_results)
out <- out %>%
select(-image, -topic)
return(out) }
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
test <- doj_press_releases(n_results = 17000, search_direction = "DESC")
library(usdoj)
doj_press_releases(n_results = 10, search_direction = "DESC")
test <- doj_press_releases(n_results = 10, search_direction = "DESC")
test <- doj_press_releases(n_results = 17000, search_direction = "DESC")
View(test)
require(devtools)
install_github("stephbuon/usdoj")
library(devtools)
devtools::document()
test <- doj_blog_entries(n_results = 200)
View(test)
x <- test[test == character(0)] <- NA
x <- test[teaser == character(0)] <- NA
View(test)
x <- na_if(test, '')
library(dplyr)
x <- na_if(test, '')
View(x)
x <- na_if(test, "Character(0)")
View(x)
x <- na_if(test, Character(0))
View(x)
x <- na_if(test, character(0))
x <- na_if(test, "character(0)")
View(test)
View(x)
x <- na_if(test, list(0))
x <- na_if(x, list(0))
x <- doj_press_releases(n_results = 200)
View(x)
doj_blog_entries <- function(n_results=50, search_direction="DESC", keyword=NULL, clean=TRUE) {
component <- ""
attachments <- ""
if(!(search_direction == "ASC" | search_direction == "DESC")) {
stop("Please specify ascending \"ASC\" or descending \"DESC\" order for search direction.") }
base <- "http://www.justice.gov/api/v1/blog_entries.json?"
pagesize <- "&pagesize="
pagesize_n <- 50
sort <- "&sort=date"
direction <- "&direction="
page <- "&page="
api_url <- paste0(base, pagesize, pagesize_n, sort, direction, search_direction, page)
cycle <- ceiling(n_results/pagesize_n)
pagesize_n <- as.character(pagesize_n)
results <- fetch_data(api_url, cycle, pagesize_n, clean, page_n=0, n_results, keyword, search_direction)
results <- results %>%
add_column(name = NA)
for(i in 1:nrow(results)) {
# Insert by row if nested list isn't empty
if(length(results[[4]][[i]]) > 0) {
results[[12]][[i]] <- paste0(results[[4]][[i]][[2]], collapse = " ", sep = ",") } }
results <- results %>%
select(-component, -attachments)
results$name <- str_replace(results$name, ",$", "")
return(clean_dates(results)) }
x <- doj_blog_entries(n_results = 200)
library(stringr)
x <- doj_blog_entries(n_results = 200)
View(x)
View(x)
x <- doj_blog_entries(n_results = 10)
dput(x)
x <- doj_blog_entries(n_results = 1)
dput(x)
View(x)
x <- doj_blog_entries(n_results = 2)
View(x)
x <- doj_blog_entries(n_results = 10)
View(x)
x <- x %>%
slice(7:8)
View(x)
dput(x)
df <- structure(list(body = c("As June comes to a close, OVW is reflecting on a month of celebrating Lesbian, Gay, Bisexual, Transgender, Queer, and Intersex (LGBTQI+) Pride Month. It is an important time to reaffirm our continued support for the LGBTQI+ community. Also, it is an opportunity to reflect on LGBTQI+ rights, and how upholding those rights is a vital part of our commitment to justice and equality for all. Protecting and advocating for LGBTQI+ rights is firmly at the core of our mission at the Office on Violence Against Women. Sadly, an estimated 25 percent to 57 percent of LGBTQI+ people suffer intimate partner violence at some point during their lives. But only an estimated one in five victims seek help, in part due to the fear of disclosure, discrimination, and/or retribution.That’s why we’re grateful that OVW grantees across the country have been unwavering in their leadership in serving survivors. We strive to fund organizations that center LGBTQI+ survivors and that are deeply rooted in local communities and dedicated to intersectional approaches. Across our country, these organizations are the backbone to providing critical daily support to those in need.For example, the Northwest Network of Bisexual, Trans, Lesbian &amp; Gay Survivors of Abuse in Seattle, Washington, used OVW funds to successfully develop survivor-centric services, including medical, legal, crisis, and long-term support for the LGBTQI+ community. In Logan, Utah, Citizens Against Physical and Sexual Abuse (CAPSA) used OVW funding to provide culturally relevant programming about domestic violence, teen dating violence, and sexual assault education, as well as create a network of support for LGBTQI+ young people. OVW grants also helped the Puerto Rican Cultural Center in Chicago, Illinois, to provide culturally and linguistically meaningful programs that are inclusive to the LGBTQI+ community. And these are just a few examples – OVW grantees do an incredible amount of meaningful work to support the LGBTQI+ community. We are especially pleased that work will continue and grow with the successful reauthorization of the Violence Against Women Act (VAWA), which specifically increases services and support for underserved populations such as LGBTQI+ survivors. OVW’s 2023 budget request seeks to broaden our reach to LGBTQI+ victims who are disproportionally affected by violence and face greater barriers to safety. It includes $7 million in funding to support transgender victims of domestic violence, dating violence, sexual assault, and stalking. Tragically, the LGBTQI+ community continues to be unfairly and unjustly targeted by hatred and discrimination. As President Biden pointed out, hateful attacks all too often encourage discrimination and violence against the LGBTQI+ community.  And we can’t forget that that 45 percent of LGBTQI+ children seriously considered attempting suicide in the last year. We must do more to protect these young people and their families. Such attacks – either by discriminatory actions, hateful speech, or violent aggression – should never be tolerated. These types of discrimination add to the already existing barriers to safety that OVW is working to address with our grant programs that promote support for LGBTQI+ members and their families. There is still much more work to do. In OVW’s blog celebrating VAWA 2022, we applauded the bill’s inclusion of provisions that create a program to provide community-specific services for LGBTQI+ survivors. This grant program will help meeting some of those unmet needs and fund programs that are by and for the LGBTQI+ community. At OVW, we are proud to support the network of amazing LGBTQI+ community advocates who are making change and fighting for survivors every day, and we are honored to work together toward a future free from violence, hate and discrimination. We will continue to follow the lead of LGBTQI+ survivors and work tirelessly to defend and uplift LGBTQI+ rights. We deeply appreciate the opportunity to honor Pride Month with our community of grantees, advocates, survivors, and leaders, and we thank you for the change you create every single day.",
"On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. With war raging in Ukraine, the critical role of law enforcement and the protection of the Ukrainian public has never been more important.  The ICITAP-trained and equipped TCPO program continues to pivot from traditional law enforcement duties to war time responsibilities, including rescuing civilians trapped in bombed buildings, setting up check points, arresting looters, responding to calls for assistance, and counter-sabotage operations.  Despite the TCPO being fully involved in war time operations, the need to recruit, train, and deploy TCPOs throughout Ukraine remains. ICITAP-Ukraine Leadership recently received the below note and photographs from the TCPO Director: “Dear Colleagues, yesterday, June 20, 2022, the NPU has resumed the training program of TCP officers. As of now, there are 75 police officers who train to become TCPO. The training is scheduled to complete on July 29, 2022. The next wave of 75 officers will start the training on August 1, 2022. The NPU plans that approximately 150 officers will finish the TCPO training by September. The NPU plans to start the training for another 150 officers in September. Below are several pictures from the training.” The optimism, courage, and resilience of the TCPO and all Ukrainian law enforcement is evident and will prevail. In Ukraine, ICITAP works with the support of and in coordination with the Department of State’s Bureau of International Narcotics and Law Enforcement Affairs."
structure(list(body = c("As June comes to a close, OVW is reflecting on a month of celebrating Lesbian, Gay, Bisexual, Transgender, Queer, and Intersex (LGBTQI+) Pride Month. It is an important time to reaffirm our continued support for the LGBTQI+ community. Also, it is an opportunity to reflect on LGBTQI+ rights, and how upholding those rights is a vital part of our commitment to justice and equality for all. Protecting and advocating for LGBTQI+ rights is firmly at the core of our mission at the Office on Violence Against Women. Sadly, an estimated 25 percent to 57 percent of LGBTQI+ people suffer intimate partner violence at some point during their lives. But only an estimated one in five victims seek help, in part due to the fear of disclosure, discrimination, and/or retribution.That’s why we’re grateful that OVW grantees across the country have been unwavering in their leadership in serving survivors. We strive to fund organizations that center LGBTQI+ survivors and that are deeply rooted in local communities and dedicated to intersectional approaches. Across our country, these organizations are the backbone to providing critical daily support to those in need.For example, the Northwest Network of Bisexual, Trans, Lesbian &amp; Gay Survivors of Abuse in Seattle, Washington, used OVW funds to successfully develop survivor-centric services, including medical, legal, crisis, and long-term support for the LGBTQI+ community. In Logan, Utah, Citizens Against Physical and Sexual Abuse (CAPSA) used OVW funding to provide culturally relevant programming about domestic violence, teen dating violence, and sexual assault education, as well as create a network of support for LGBTQI+ young people. OVW grants also helped the Puerto Rican Cultural Center in Chicago, Illinois, to provide culturally and linguistically meaningful programs that are inclusive to the LGBTQI+ community. And these are just a few examples – OVW grantees do an incredible amount of meaningful work to support the LGBTQI+ community. We are especially pleased that work will continue and grow with the successful reauthorization of the Violence Against Women Act (VAWA), which specifically increases services and support for underserved populations such as LGBTQI+ survivors. OVW’s 2023 budget request seeks to broaden our reach to LGBTQI+ victims who are disproportionally affected by violence and face greater barriers to safety. It includes $7 million in funding to support transgender victims of domestic violence, dating violence, sexual assault, and stalking. Tragically, the LGBTQI+ community continues to be unfairly and unjustly targeted by hatred and discrimination. As President Biden pointed out, hateful attacks all too often encourage discrimination and violence against the LGBTQI+ community.  And we can’t forget that that 45 percent of LGBTQI+ children seriously considered attempting suicide in the last year. We must do more to protect these young people and their families. Such attacks – either by discriminatory actions, hateful speech, or violent aggression – should never be tolerated. These types of discrimination add to the already existing barriers to safety that OVW is working to address with our grant programs that promote support for LGBTQI+ members and their families. There is still much more work to do. In OVW’s blog celebrating VAWA 2022, we applauded the bill’s inclusion of provisions that create a program to provide community-specific services for LGBTQI+ survivors. This grant program will help meeting some of those unmet needs and fund programs that are by and for the LGBTQI+ community. At OVW, we are proud to support the network of amazing LGBTQI+ community advocates who are making change and fighting for survivors every day, and we are honored to work together toward a future free from violence, hate and discrimination. We will continue to follow the lead of LGBTQI+ survivors and work tirelessly to defend and uplift LGBTQI+ rights. We deeply appreciate the opportunity to honor Pride Month with our community of grantees, advocates, survivors, and leaders, and we thank you for the change you create every single day.",
"On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. With war raging in Ukraine, the critical role of law enforcement and the protection of the Ukrainian public has never been more important.  The ICITAP-trained and equipped TCPO program continues to pivot from traditional law enforcement duties to war time responsibilities, including rescuing civilians trapped in bombed buildings, setting up check points, arresting looters, responding to calls for assistance, and counter-sabotage operations.  Despite the TCPO being fully involved in war time operations, the need to recruit, train, and deploy TCPOs throughout Ukraine remains. ICITAP-Ukraine Leadership recently received the below note and photographs from the TCPO Director: “Dear Colleagues, yesterday, June 20, 2022, the NPU has resumed the training program of TCP officers. As of now, there are 75 police officers who train to become TCPO. The training is scheduled to complete on July 29, 2022. The next wave of 75 officers will start the training on August 1, 2022. The NPU plans that approximately 150 officers will finish the TCPO training by September. The NPU plans to start the training for another 150 officers in September. Below are several pictures from the training.” The optimism, courage, and resilience of the TCPO and all Ukrainian law enforcement is evident and will prevail. In Ukraine, ICITAP works with the support of and in coordination with the Department of State’s Bureau of International Narcotics and Law Enforcement Affairs."
structure(list(body = c("As June comes to a close, OVW is reflecting on a month of celebrating Lesbian, Gay, Bisexual, Transgender, Queer, and Intersex (LGBTQI+) Pride Month. It is an important time to reaffirm our continued support for the LGBTQI+ community. Also, it is an opportunity to reflect on LGBTQI+ rights, and how upholding those rights is a vital part of our commitment to justice and equality for all. Protecting and advocating for LGBTQI+ rights is firmly at the core of our mission at the Office on Violence Against Women. Sadly, an estimated 25 percent to 57 percent of LGBTQI+ people suffer intimate partner violence at some point during their lives. But only an estimated one in five victims seek help, in part due to the fear of disclosure, discrimination, and/or retribution.That’s why we’re grateful that OVW grantees across the country have been unwavering in their leadership in serving survivors. We strive to fund organizations that center LGBTQI+ survivors and that are deeply rooted in local communities and dedicated to intersectional approaches. Across our country, these organizations are the backbone to providing critical daily support to those in need.For example, the Northwest Network of Bisexual, Trans, Lesbian &amp; Gay Survivors of Abuse in Seattle, Washington, used OVW funds to successfully develop survivor-centric services, including medical, legal, crisis, and long-term support for the LGBTQI+ community. In Logan, Utah, Citizens Against Physical and Sexual Abuse (CAPSA) used OVW funding to provide culturally relevant programming about domestic violence, teen dating violence, and sexual assault education, as well as create a network of support for LGBTQI+ young people. OVW grants also helped the Puerto Rican Cultural Center in Chicago, Illinois, to provide culturally and linguistically meaningful programs that are inclusive to the LGBTQI+ community. And these are just a few examples – OVW grantees do an incredible amount of meaningful work to support the LGBTQI+ community. We are especially pleased that work will continue and grow with the successful reauthorization of the Violence Against Women Act (VAWA), which specifically increases services and support for underserved populations such as LGBTQI+ survivors. OVW’s 2023 budget request seeks to broaden our reach to LGBTQI+ victims who are disproportionally affected by violence and face greater barriers to safety. It includes $7 million in funding to support transgender victims of domestic violence, dating violence, sexual assault, and stalking. Tragically, the LGBTQI+ community continues to be unfairly and unjustly targeted by hatred and discrimination. As President Biden pointed out, hateful attacks all too often encourage discrimination and violence against the LGBTQI+ community.  And we can’t forget that that 45 percent of LGBTQI+ children seriously considered attempting suicide in the last year. We must do more to protect these young people and their families. Such attacks – either by discriminatory actions, hateful speech, or violent aggression – should never be tolerated. These types of discrimination add to the already existing barriers to safety that OVW is working to address with our grant programs that promote support for LGBTQI+ members and their families. There is still much more work to do. In OVW’s blog celebrating VAWA 2022, we applauded the bill’s inclusion of provisions that create a program to provide community-specific services for LGBTQI+ survivors. This grant program will help meeting some of those unmet needs and fund programs that are by and for the LGBTQI+ community. At OVW, we are proud to support the network of amazing LGBTQI+ community advocates who are making change and fighting for survivors every day, and we are honored to work together toward a future free from violence, hate and discrimination. We will continue to follow the lead of LGBTQI+ survivors and work tirelessly to defend and uplift LGBTQI+ rights. We deeply appreciate the opportunity to honor Pride Month with our community of grantees, advocates, survivors, and leaders, and we thank you for the change you create every single day.",
"On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. With war raging in Ukraine, the critical role of law enforcement and the protection of the Ukrainian public has never been more important.  The ICITAP-trained and equipped TCPO program continues to pivot from traditional law enforcement duties to war time responsibilities, including rescuing civilians trapped in bombed buildings, setting up check points, arresting looters, responding to calls for assistance, and counter-sabotage operations.  Despite the TCPO being fully involved in war time operations, the need to recruit, train, and deploy TCPOs throughout Ukraine remains. ICITAP-Ukraine Leadership recently received the below note and photographs from the TCPO Director: “Dear Colleagues, yesterday, June 20, 2022, the NPU has resumed the training program of TCP officers. As of now, there are 75 police officers who train to become TCPO. The training is scheduled to complete on July 29, 2022. The next wave of 75 officers will start the training on August 1, 2022. The NPU plans that approximately 150 officers will finish the TCPO training by September. The NPU plans to start the training for another 150 officers in September. Below are several pictures from the training.” The optimism, courage, and resilience of the TCPO and all Ukrainian law enforcement is evident and will prevail. In Ukraine, ICITAP works with the support of and in coordination with the Department of State’s Bureau of International Narcotics and Law Enforcement Affairs."
dput(x)
structure(list(body = c("As June comes to a close, OVW is reflecting on a month of celebrating Lesbian, Gay, Bisexual, Transgender, Queer, and Intersex (LGBTQI+) Pride Month. It is an important time to reaffirm our continued support for the LGBTQI+ community. Also, it is an opportunity to reflect on LGBTQI+ rights, and how upholding those rights is a vital part of our commitment to justice and equality for all. Protecting and advocating for LGBTQI+ rights is firmly at the core of our mission at the Office on Violence Against Women. Sadly, an estimated 25 percent to 57 percent of LGBTQI+ people suffer intimate partner violence at some point during their lives. But only an estimated one in five victims seek help, in part due to the fear of disclosure, discrimination, and/or retribution.That’s why we’re grateful that OVW grantees across the country have been unwavering in their leadership in serving survivors. We strive to fund organizations that center LGBTQI+ survivors and that are deeply rooted in local communities and dedicated to intersectional approaches. Across our country, these organizations are the backbone to providing critical daily support to those in need.For example, the Northwest Network of Bisexual, Trans, Lesbian &amp; Gay Survivors of Abuse in Seattle, Washington, used OVW funds to successfully develop survivor-centric services, including medical, legal, crisis, and long-term support for the LGBTQI+ community. In Logan, Utah, Citizens Against Physical and Sexual Abuse (CAPSA) used OVW funding to provide culturally relevant programming about domestic violence, teen dating violence, and sexual assault education, as well as create a network of support for LGBTQI+ young people. OVW grants also helped the Puerto Rican Cultural Center in Chicago, Illinois, to provide culturally and linguistically meaningful programs that are inclusive to the LGBTQI+ community. And these are just a few examples – OVW grantees do an incredible amount of meaningful work to support the LGBTQI+ community. We are especially pleased that work will continue and grow with the successful reauthorization of the Violence Against Women Act (VAWA), which specifically increases services and support for underserved populations such as LGBTQI+ survivors. OVW’s 2023 budget request seeks to broaden our reach to LGBTQI+ victims who are disproportionally affected by violence and face greater barriers to safety. It includes $7 million in funding to support transgender victims of domestic violence, dating violence, sexual assault, and stalking. Tragically, the LGBTQI+ community continues to be unfairly and unjustly targeted by hatred and discrimination. As President Biden pointed out, hateful attacks all too often encourage discrimination and violence against the LGBTQI+ community.  And we can’t forget that that 45 percent of LGBTQI+ children seriously considered attempting suicide in the last year. We must do more to protect these young people and their families. Such attacks – either by discriminatory actions, hateful speech, or violent aggression – should never be tolerated. These types of discrimination add to the already existing barriers to safety that OVW is working to address with our grant programs that promote support for LGBTQI+ members and their families. There is still much more work to do. In OVW’s blog celebrating VAWA 2022, we applauded the bill’s inclusion of provisions that create a program to provide community-specific services for LGBTQI+ survivors. This grant program will help meeting some of those unmet needs and fund programs that are by and for the LGBTQI+ community. At OVW, we are proud to support the network of amazing LGBTQI+ community advocates who are making change and fighting for survivors every day, and we are honored to work together toward a future free from violence, hate and discrimination. We will continue to follow the lead of LGBTQI+ survivors and work tirelessly to defend and uplift LGBTQI+ rights. We deeply appreciate the opportunity to honor Pride Month with our community of grantees, advocates, survivors, and leaders, and we thank you for the change you create every single day.",
"On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. With war raging in Ukraine, the critical role of law enforcement and the protection of the Ukrainian public has never been more important.  The ICITAP-trained and equipped TCPO program continues to pivot from traditional law enforcement duties to war time responsibilities, including rescuing civilians trapped in bombed buildings, setting up check points, arresting looters, responding to calls for assistance, and counter-sabotage operations.  Despite the TCPO being fully involved in war time operations, the need to recruit, train, and deploy TCPOs throughout Ukraine remains. ICITAP-Ukraine Leadership recently received the below note and photographs from the TCPO Director: “Dear Colleagues, yesterday, June 20, 2022, the NPU has resumed the training program of TCP officers. As of now, there are 75 police officers who train to become TCPO. The training is scheduled to complete on July 29, 2022. The next wave of 75 officers will start the training on August 1, 2022. The NPU plans that approximately 150 officers will finish the TCPO training by September. The NPU plans to start the training for another 150 officers in September. Below are several pictures from the training.” The optimism, courage, and resilience of the TCPO and all Ukrainian law enforcement is evident and will prevail. In Ukraine, ICITAP works with the support of and in coordination with the Department of State’s Bureau of International Narcotics and Law Enforcement Affairs."
dget(structure(list(body = c("As June comes to a close, OVW is reflecting on a month of celebrating Lesbian, Gay, Bisexual, Transgender, Queer, and Intersex (LGBTQI+) Pride Month. It is an important time to reaffirm our continued support for the LGBTQI+ community. Also, it is an opportunity to reflect on LGBTQI+ rights, and how upholding those rights is a vital part of our commitment to justice and equality for all. Protecting and advocating for LGBTQI+ rights is firmly at the core of our mission at the Office on Violence Against Women. Sadly, an estimated 25 percent to 57 percent of LGBTQI+ people suffer intimate partner violence at some point during their lives. But only an estimated one in five victims seek help, in part due to the fear of disclosure, discrimination, and/or retribution.That’s why we’re grateful that OVW grantees across the country have been unwavering in their leadership in serving survivors. We strive to fund organizations that center LGBTQI+ survivors and that are deeply rooted in local communities and dedicated to intersectional approaches. Across our country, these organizations are the backbone to providing critical daily support to those in need.For example, the Northwest Network of Bisexual, Trans, Lesbian &amp; Gay Survivors of Abuse in Seattle, Washington, used OVW funds to successfully develop survivor-centric services, including medical, legal, crisis, and long-term support for the LGBTQI+ community. In Logan, Utah, Citizens Against Physical and Sexual Abuse (CAPSA) used OVW funding to provide culturally relevant programming about domestic violence, teen dating violence, and sexual assault education, as well as create a network of support for LGBTQI+ young people. OVW grants also helped the Puerto Rican Cultural Center in Chicago, Illinois, to provide culturally and linguistically meaningful programs that are inclusive to the LGBTQI+ community. And these are just a few examples – OVW grantees do an incredible amount of meaningful work to support the LGBTQI+ community. We are especially pleased that work will continue and grow with the successful reauthorization of the Violence Against Women Act (VAWA), which specifically increases services and support for underserved populations such as LGBTQI+ survivors. OVW’s 2023 budget request seeks to broaden our reach to LGBTQI+ victims who are disproportionally affected by violence and face greater barriers to safety. It includes $7 million in funding to support transgender victims of domestic violence, dating violence, sexual assault, and stalking. Tragically, the LGBTQI+ community continues to be unfairly and unjustly targeted by hatred and discrimination. As President Biden pointed out, hateful attacks all too often encourage discrimination and violence against the LGBTQI+ community.  And we can’t forget that that 45 percent of LGBTQI+ children seriously considered attempting suicide in the last year. We must do more to protect these young people and their families. Such attacks – either by discriminatory actions, hateful speech, or violent aggression – should never be tolerated. These types of discrimination add to the already existing barriers to safety that OVW is working to address with our grant programs that promote support for LGBTQI+ members and their families. There is still much more work to do. In OVW’s blog celebrating VAWA 2022, we applauded the bill’s inclusion of provisions that create a program to provide community-specific services for LGBTQI+ survivors. This grant program will help meeting some of those unmet needs and fund programs that are by and for the LGBTQI+ community. At OVW, we are proud to support the network of amazing LGBTQI+ community advocates who are making change and fighting for survivors every day, and we are honored to work together toward a future free from violence, hate and discrimination. We will continue to follow the lead of LGBTQI+ survivors and work tirelessly to defend and uplift LGBTQI+ rights. We deeply appreciate the opportunity to honor Pride Month with our community of grantees, advocates, survivors, and leaders, and we thank you for the change you create every single day.",
"On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. With war raging in Ukraine, the critical role of law enforcement and the protection of the Ukrainian public has never been more important.  The ICITAP-trained and equipped TCPO program continues to pivot from traditional law enforcement duties to war time responsibilities, including rescuing civilians trapped in bombed buildings, setting up check points, arresting looters, responding to calls for assistance, and counter-sabotage operations.  Despite the TCPO being fully involved in war time operations, the need to recruit, train, and deploy TCPOs throughout Ukraine remains. ICITAP-Ukraine Leadership recently received the below note and photographs from the TCPO Director: “Dear Colleagues, yesterday, June 20, 2022, the NPU has resumed the training program of TCP officers. As of now, there are 75 police officers who train to become TCPO. The training is scheduled to complete on July 29, 2022. The next wave of 75 officers will start the training on August 1, 2022. The NPU plans that approximately 150 officers will finish the TCPO training by September. The NPU plans to start the training for another 150 officers in September. Below are several pictures from the training.” The optimism, courage, and resilience of the TCPO and all Ukrainian law enforcement is evident and will prevail. In Ukraine, ICITAP works with the support of and in coordination with the Department of State’s Bureau of International Narcotics and Law Enforcement Affairs."
x <- doj_blog_entries(n_results = 10)
df <- doj_blog_entries(n_results = 10)
lapply(df, function(x) mutate(x, Predicted = NA, Actual = NA)
)
View(df)
x <- x %>%
slice(7:8)
x <- na_if(x, paste0("character(0)"))
x <- na_if(x, as.character("character(0)"))
x$teaser <- str_replace(x$teaser, "character(0)", NA)
x$teaser <- str_replace(x$teaser, "character(0)", "NA")
x$teaser <- str_replace(x$teaser, as.character("character(0)"), "NA")
df <- doj_blog_entries(n_results = 10)
x <- x %>%
slice(7:8)
dput(x)
df <- doj_blog_entries(n_results = 10)
df <- df %>%
slice(7:8)
dput(df)
structure(list(body = c("As June comes to a close, OVW is reflecting on a month of celebrating Lesbian, Gay, Bisexual, Transgender, Queer, and Intersex (LGBTQI+) Pride Month. It is an important time to reaffirm our continued support for the LGBTQI+ community. Also, it is an opportunity to reflect on LGBTQI+ rights, and how upholding those rights is a vital part of our commitment to justice and equality for all. Protecting and advocating for LGBTQI+ rights is firmly at the core of our mission at the Office on Violence Against Women. Sadly, an estimated 25 percent to 57 percent of LGBTQI+ people suffer intimate partner violence at some point during their lives. But only an estimated one in five victims seek help, in part due to the fear of disclosure, discrimination, and/or retribution.That’s why we’re grateful that OVW grantees across the country have been unwavering in their leadership in serving survivors. We strive to fund organizations that center LGBTQI+ survivors and that are deeply rooted in local communities and dedicated to intersectional approaches. Across our country, these organizations are the backbone to providing critical daily support to those in need.For example, the Northwest Network of Bisexual, Trans, Lesbian &amp; Gay Survivors of Abuse in Seattle, Washington, used OVW funds to successfully develop survivor-centric services, including medical, legal, crisis, and long-term support for the LGBTQI+ community. In Logan, Utah, Citizens Against Physical and Sexual Abuse (CAPSA) used OVW funding to provide culturally relevant programming about domestic violence, teen dating violence, and sexual assault education, as well as create a network of support for LGBTQI+ young people. OVW grants also helped the Puerto Rican Cultural Center in Chicago, Illinois, to provide culturally and linguistically meaningful programs that are inclusive to the LGBTQI+ community. And these are just a few examples – OVW grantees do an incredible amount of meaningful work to support the LGBTQI+ community. We are especially pleased that work will continue and grow with the successful reauthorization of the Violence Against Women Act (VAWA), which specifically increases services and support for underserved populations such as LGBTQI+ survivors. OVW’s 2023 budget request seeks to broaden our reach to LGBTQI+ victims who are disproportionally affected by violence and face greater barriers to safety. It includes $7 million in funding to support transgender victims of domestic violence, dating violence, sexual assault, and stalking. Tragically, the LGBTQI+ community continues to be unfairly and unjustly targeted by hatred and discrimination. As President Biden pointed out, hateful attacks all too often encourage discrimination and violence against the LGBTQI+ community.  And we can’t forget that that 45 percent of LGBTQI+ children seriously considered attempting suicide in the last year. We must do more to protect these young people and their families. Such attacks – either by discriminatory actions, hateful speech, or violent aggression – should never be tolerated. These types of discrimination add to the already existing barriers to safety that OVW is working to address with our grant programs that promote support for LGBTQI+ members and their families. There is still much more work to do. In OVW’s blog celebrating VAWA 2022, we applauded the bill’s inclusion of provisions that create a program to provide community-specific services for LGBTQI+ survivors. This grant program will help meeting some of those unmet needs and fund programs that are by and for the LGBTQI+ community. At OVW, we are proud to support the network of amazing LGBTQI+ community advocates who are making change and fighting for survivors every day, and we are honored to work together toward a future free from violence, hate and discrimination. We will continue to follow the lead of LGBTQI+ survivors and work tirelessly to defend and uplift LGBTQI+ rights. We deeply appreciate the opportunity to honor Pride Month with our community of grantees, advocates, survivors, and leaders, and we thank you for the change you create every single day.",
"On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. With war raging in Ukraine, the critical role of law enforcement and the protection of the Ukrainian public has never been more important.  The ICITAP-trained and equipped TCPO program continues to pivot from traditional law enforcement duties to war time responsibilities, including rescuing civilians trapped in bombed buildings, setting up check points, arresting looters, responding to calls for assistance, and counter-sabotage operations.  Despite the TCPO being fully involved in war time operations, the need to recruit, train, and deploy TCPOs throughout Ukraine remains. ICITAP-Ukraine Leadership recently received the below note and photographs from the TCPO Director: “Dear Colleagues, yesterday, June 20, 2022, the NPU has resumed the training program of TCP officers. As of now, there are 75 police officers who train to become TCPO. The training is scheduled to complete on July 29, 2022. The next wave of 75 officers will start the training on August 1, 2022. The NPU plans that approximately 150 officers will finish the TCPO training by September. The NPU plans to start the training for another 150 officers in September. Below are several pictures from the training.” The optimism, courage, and resilience of the TCPO and all Ukrainian law enforcement is evident and will prevail. In Ukraine, ICITAP works with the support of and in coordination with the Department of State’s Bureau of International Narcotics and Law Enforcement Affairs."
View(df)
df <- doj_blog_entries(n_results = 10)
df <- df %>%
slice(8)
dput(df)
structure(list(body = "On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. With war raging in Ukraine, the critical role of law enforcement and the protection of the Ukrainian public has never been more important.  The ICITAP-trained and equipped TCPO program continues to pivot from traditional law enforcement duties to war time responsibilities, including rescuing civilians trapped in bombed buildings, setting up check points, arresting looters, responding to calls for assistance, and counter-sabotage operations.  Despite the TCPO being fully involved in war time operations, the need to recruit, train, and deploy TCPOs throughout Ukraine remains. ICITAP-Ukraine Leadership recently received the below note and photographs from the TCPO Director: “Dear Colleagues, yesterday, June 20, 2022, the NPU has resumed the training program of TCP officers. As of now, there are 75 police officers who train to become TCPO. The training is scheduled to complete on July 29, 2022. The next wave of 75 officers will start the training on August 1, 2022. The NPU plans that approximately 150 officers will finish the TCPO training by September. The NPU plans to start the training for another 150 officers in September. Below are several pictures from the training.” The optimism, courage, and resilience of the TCPO and all Ukrainian law enforcement is evident and will prevail. In Ukraine, ICITAP works with the support of and in coordination with the Department of State’s Bureau of International Narcotics and Law Enforcement Affairs.",
changed = structure(19327, class = "Date"), created = structure(19327, class = "Date"),
date = structure(19169, class = "Date"), teaser = "On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. \n",
title = "Ukraine: ICITAP-Trained and Equipped Territorial Community Police Officer Department Resumes Training of New Officers",
url = "https://www.justice.gov/criminal-icitap/blog/ukraine-icitap-trained-and-equipped-territorial-community-police-officer",
uuid = "12c373b8-6a5d-494d-a86f-2d06d367700e", vuuid = "9d0afbe8-db2b-4d40-9336-dcf2b7ced378",
name = "Criminal Division, Criminal - International Criminal Investigative Training Assistance Program,"), row.names = c(NA,
-1L), class = "data.frame")
z <- structure(list(body = "On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. With war raging in Ukraine, the critical role of law enforcement and the protection of the Ukrainian public has never been more important.  The ICITAP-trained and equipped TCPO program continues to pivot from traditional law enforcement duties to war time responsibilities, including rescuing civilians trapped in bombed buildings, setting up check points, arresting looters, responding to calls for assistance, and counter-sabotage operations.  Despite the TCPO being fully involved in war time operations, the need to recruit, train, and deploy TCPOs throughout Ukraine remains. ICITAP-Ukraine Leadership recently received the below note and photographs from the TCPO Director: “Dear Colleagues, yesterday, June 20, 2022, the NPU has resumed the training program of TCP officers. As of now, there are 75 police officers who train to become TCPO. The training is scheduled to complete on July 29, 2022. The next wave of 75 officers will start the training on August 1, 2022. The NPU plans that approximately 150 officers will finish the TCPO training by September. The NPU plans to start the training for another 150 officers in September. Below are several pictures from the training.” The optimism, courage, and resilience of the TCPO and all Ukrainian law enforcement is evident and will prevail. In Ukraine, ICITAP works with the support of and in coordination with the Department of State’s Bureau of International Narcotics and Law Enforcement Affairs.",
changed = structure(19327, class = "Date"), created = structure(19327, class = "Date"),
date = structure(19169, class = "Date"), teaser = "On June 27, the ICITAP-Ukraine mission provided an update on its implementation of Ukraine’s Territorial Community Police Officer (TCPO) program. \n",
title = "Ukraine: ICITAP-Trained and Equipped Territorial Community Police Officer Department Resumes Training of New Officers",
url = "https://www.justice.gov/criminal-icitap/blog/ukraine-icitap-trained-and-equipped-territorial-community-police-officer",
uuid = "12c373b8-6a5d-494d-a86f-2d06d367700e", vuuid = "9d0afbe8-db2b-4d40-9336-dcf2b7ced378",
name = "Criminal Division, Criminal - International Criminal Investigative Training Assistance Program,"), row.names = c(NA,
-1L), class = "data.frame")
View(z)
df <- doj_blog_entries(n_results = 10)
View(df)
df <- doj_blog_entries(n_results = 100)
View(df)
df <- df %>%
slice(26)
View(z)
df <- doj_blog_entries(n_results = 100)
View(z)
View(df)
df <- df[7,]
View(df)
dput(df)
df <- doj_blog_entries(n_results = 100)
View(df)
df <- df[33,]
dput(df)
structure(list(body = "BAKER TO VEGAS 2022The Office fielded two squads this year in the 36th Annual Baker to Vegas (“B2V”) Challenge Cup Relay on April 9-10.  Members of our 2022 B2V Team include many staff and AUSAs who were joined by office alums and a cadre of friends and family who helped out during some rather brutal conditions this year with temperatures around 100 degrees for much of the days. Most importantly, everyone had fun… and nobody got hurt!  It was a great opportunity to meet (and run past) various members of our law enforcement community and to see the amazing logistics of the yearly event. Congratulations to all the participants.",
changed = structure(19156, class = "Date"), created = structure(19156, class = "Date"),
date = structure(19090, class = "Date"), teaser = "character(0)",
title = "Baker to Vegas 2022", url = "https://www.justice.gov/usao-cdca/blog/baker-vegas-2022",
uuid = "cd7e1023-c3ed-4234-b8af-56d342493810", vuuid = "8971702d-6f96-4bbd-ba8c-418f9d32a486",
name = "USAO - California, Central,"), row.names = 33L, class = "data.frame")
j <- structure(list(body = "BAKER TO VEGAS 2022The Office fielded two squads this year in the 36th Annual Baker to Vegas (“B2V”) Challenge Cup Relay on April 9-10.  Members of our 2022 B2V Team include many staff and AUSAs who were joined by office alums and a cadre of friends and family who helped out during some rather brutal conditions this year with temperatures around 100 degrees for much of the days. Most importantly, everyone had fun… and nobody got hurt!  It was a great opportunity to meet (and run past) various members of our law enforcement community and to see the amazing logistics of the yearly event. Congratulations to all the participants.",
changed = structure(19156, class = "Date"), created = structure(19156, class = "Date"),
date = structure(19090, class = "Date"), teaser = "character(0)",
title = "Baker to Vegas 2022", url = "https://www.justice.gov/usao-cdca/blog/baker-vegas-2022",
uuid = "cd7e1023-c3ed-4234-b8af-56d342493810", vuuid = "8971702d-6f96-4bbd-ba8c-418f9d32a486",
name = "USAO - California, Central,"), row.names = 33L, class = "data.frame")
View(j)
x <- na_if(x, "character(0)")
df <- na_if(df, "character(0)")
df <- doj_blog_entries(n_results = 100)
df <- na_if(df, "character(0)")
df <- df[33,]
df <- na_if(df, "character(0)")
df$teaser <- str_replace(df$teaser, "character(0)", "REPLACE")
View(df)
df$teaser <- na_if(df$teaser, "character(0)")
df <- doj_blog_entries(n_results = 1000)
View(df)
df <- df %>%
mutate(across(where(is.character), ~na_if(., "character0")))
View(df)
df <- df %>%
mutate(across(~na_if(., "character0")))
df <- doj_speeches(n_results = 1000)
View(df)
View(df)
df <- df %>%
mutate(across(~na_if(., "")))
df <- df %>%
mutate(across(everything(), ~na_if(., "")))
View(df)
df <- doj_press_releases(n_results = 1000)
View(df)
df <- df %>%
mutate(across(everything(), ~na_if(., "")),
across(everything(), ~na_if(., "character(0)")))
df <- df %>%
mutate(across(everything(), ~na_if(., "character(0)")))
df[df %in% "character(0)"] <- NA
View(df)
df <- df[df %in% "character(0)"] <- NA
df <- doj_press_releases(n_results = 10)
View(df)
df[df %in% "character(0)"] <- NA
View(df)
View(j)
View(df)
df <- doj_blog_entries(n_results = 200)
View(df)
df <- df %>%
na_if(teaser, "character(0)",
body, "character(0)")
df <- df %>%
na_if(teaser, "character(0)")
df <- doj_blog_entries(n_results = 200)
df$teaser <- na_if(df$teaser, "character(0)")
df$body <- na_if(df$body, "character(0)")
View(df)
df <- df %>%
mutate(across(everything(), ~na_if(., "")))
?everything()
devtools::document()
require(devtools)
install_github("stephbuon/usdoj")
df <- doj_press_releases()
View(df)
devtools::document()
require(devtools)
install_github("stephbuon/usdoj")
df <- doj_press_releases()
View(df)
devtools::document()
